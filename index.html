<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LawAid: Royal Legal Guidance</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .chat-bubble {
      max-width: 80%;
      padding: 10px;
      border-radius: 10px;
      margin: 5px 0;
    }
    .user-bubble {
      background: #fff9e6;
      margin-left: auto;
      text-align: right;
    }
    .bot-bubble {
      background: #f3f4f6;
      margin-right: auto;
    }
  </style>
</head>
<body class="bg-white font-serif text-black">
  <!-- Header -->
  <header class="bg-[#1c1c1c] text-white py-4">
    <div class="container mx-auto px-4 flex justify-between items-center">
      <h1 class="text-3xl font-bold text-yellow-500">LawAid</h1>
      <nav>
        <a href="#home" class="mx-2 hover:underline">Home</a>
        <a href="#chatbot" class="mx-2 hover:underline">Ask a Question</a>
        <a href="#lead-form" class="mx-2 hover:underline">Get Legal Help</a>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="bg-yellow-50 py-16 text-center">
    <div class="container mx-auto px-4">
      <h2 class="text-5xl font-bold text-[#1c1c1c] mb-4">Trusted Legal Insight. Refined Experience.</h2>
      <p class="text-lg text-gray-800 mb-6">LawAid is your AI-powered legal assistant. Ask legal questions and build your case, all in one place.</p>
      <a href="#lead-form" class="bg-yellow-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-yellow-600">Connect With a Lawyer</a>
    </div>
  </section>

  <!-- Chatbot Section -->
  <section id="chatbot" class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <h3 class="text-3xl font-bold text-[#1c1c1c] mb-4 text-center">Your Legal Assistant</h3>
      <div id="chat-container" class="border border-gray-300 rounded-lg p-4 max-w-2xl mx-auto h-72 overflow-y-auto mb-4 bg-yellow-50">
        <div class="bot-bubble chat-bubble">Hello. I'm LawAid. Ask your legal question to get started. I only answer legal topics. Upload documents when ready to build your case.</div>
      </div>
      <div class="flex max-w-2xl mx-auto">
        <input id="chat-input" type="text" class="flex-1 p-2 border rounded-l-lg" placeholder="Enter your legal question...">
        <button id="chat-submit" class="bg-[#1c1c1c] text-yellow-400 px-4 py-2 rounded-r-lg hover:bg-yellow-600 hover:text-white">Send</button>
      </div>
    </div>
  </section>

  <!-- File Upload Section -->
  <section class="py-8 bg-gray-100">
    <div class="container mx-auto px-4 max-w-xl">
      <h3 class="text-xl font-semibold text-center text-[#1c1c1c] mb-4">Upload Case Documents</h3>
      <form id="uploadForm" class="bg-white p-4 rounded-lg shadow space-y-4" enctype="multipart/form-data">
        <input type="file" name="legalFiles" multiple accept=".pdf,.doc,.docx" required class="w-full border p-2 rounded-lg">
        <button type="submit" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 w-full">Upload Files</button>
      </form>
    </div>
  </section>

  <!-- Lead Form -->
  <section id="lead-form" class="py-12 bg-white">
    <div class="container mx-auto px-4">
      <h3 class="text-2xl font-bold text-[#1c1c1c] mb-4 text-center">Connect with an Attorney</h3>
      <form id="leadForm" class="max-w-md mx-auto space-y-4">
        <input type="text" name="name" placeholder="Your Name" required class="w-full p-2 border rounded-lg">
        <input type="email" name="email" placeholder="Your Email" required class="w-full p-2 border rounded-lg">
        <input type="text" name="location" placeholder="Your Location" required class="w-full p-2 border rounded-lg">
        <select name="practice_area" required class="w-full p-2 border rounded-lg">
          <option value="" disabled selected>Select Legal Issue</option>
          <option value="corporate_law">Corporate Law</option>
          <option value="family_law">Family Law</option>
          <option value="personal_injury">Personal Injury</option>
        </select>
        <button type="submit" class="w-full bg-yellow-500 text-white p-2 rounded-lg hover:bg-yellow-600">Get Help Now</button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[#1c1c1c] text-white py-4">
    <div class="container mx-auto px-4 text-center">
      <p class="text-sm">LawAid provides general legal information. Not a substitute for legal advice. Consult a licensed attorney for professional guidance.</p>
      <p class="text-sm mt-2">Contact: support@lawaid.com | Â© 2025 LawAid</p>
    </div>
  </footer>

  <script>
    const chatContainer = document.getElementById('chat-container');
    const chatInput = document.getElementById('chat-input');
    const chatSubmit = document.getElementById('chat-submit');
    const leadForm = document.getElementById('leadForm');
    const uploadForm = document.getElementById('uploadForm');

    const API_KEY = 'YOUR_OPENAI_API_KEY';
    const API_URL = 'https://api.openai.com/v1/chat/completions';

    async function fetchLegalResponse(question) {
      if (!/\blegal\b|law|attorney|case|contract|rights|court/i.test(question)) {
        return "I can only assist with legal-related questions. Please ask a legal question.";
      }

      const headers = {
        'Authorization': `Bearer ${API_KEY}`,
        'Content-Type': 'application/json'
      };

      const body = JSON.stringify({
        model: 'gpt-4',
        messages: [
          { role: 'system', content: 'You are LawAid, a legal assistant. Only respond to legal-related questions. Do NOT answer questions about AI, chatbots, or programming. Include a disclaimer in every answer that this is not legal advice and recommend consulting a licensed attorney.' },
          { role: 'user', content: question }
        ],
        temperature: 0.4,
        max_tokens: 400
      });

      try {
        const response = await fetch(API_URL, { method: 'POST', headers, body });
        const data = await response.json();
        return (data.choices?.[0]?.message?.content || 'Unable to provide a response. Please try again.') + '<br><i>This is not legal advice. Always consult a licensed attorney.</i>';
      } catch (error) {
        console.error('Error:', error);
        return 'Error processing your request. Please try again or consult a lawyer.';
      }
    }

    chatSubmit.addEventListener('click', async () => {
      const userInput = chatInput.value.trim();
      if (!userInput) return;

      const userBubble = document.createElement('div');
      userBubble.className = 'user-bubble chat-bubble';
      userBubble.textContent = userInput;
      chatContainer.appendChild(userBubble);

      const botBubble = document.createElement('div');
      botBubble.className = 'bot-bubble chat-bubble';
      botBubble.innerHTML = 'Thinking...';
      chatContainer.appendChild(botBubble);

      const response = await fetchLegalResponse(userInput);
      botBubble.innerHTML = response;

      chatContainer.scrollTop = chatContainer.scrollHeight;
      chatInput.value = '';
    });

    leadForm.addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Thanks! We will connect you with an attorney shortly.');
      leadForm.reset();
    });

    uploadForm.addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Documents uploaded! A legal expert will review them.');
      uploadForm.reset();
    });
  </script>
</body>
</html>
